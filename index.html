<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pro Note Editor</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>

    <div id="setup-view">
        <div class="setup-card">
            <h2>Select Workspace</h2>
            <p>Choose a folder to store your notebooks.</p>
            <button class="action-btn upload-btn" onclick="initDirectory()">Select Library Folder</button>
        </div>
    </div>

    <div id="library-view" class="hidden">
        <header class="library-header"><h1 id="folder-name">Library</h1></header>
        <div id="file-grid"></div>
        <div class="library-actions-container">
            <div class="glass-dock">
                <button class="action-btn upload-btn" onclick="addNewPdf()">+ Import PDF</button>
                <button class="action-btn blank-btn" onclick="createNewBlank()">New Blank Document</button>
            </div>
        </div>
    </div>

    <div id="editor-view" class="hidden">
        <div class="editor-nav">
            <button class="nav-btn" onclick="showLibrary()">← Library</button>
            <button class="nav-btn save-btn" onclick="saveActiveDocument()">Save Document</button>
        </div>
        <div id="ui-layer">
            <div id="menu-dot" class="hidden" onclick="toggleMenu()">●</div>
            <nav id="toolbar">
                <div class="menu-content">
                    <div class="tool-group">
                        <button id="btn-0" class="tool-btn active" onclick="selectTool(0)">Pen 1</button>
                        <button id="btn-1" class="tool-btn" onclick="selectTool(1)">Pen 2</button>
                        <button id="btn-2" class="tool-btn" onclick="selectTool(2)">Pen 3</button>
                        <button id="btn-3" class="tool-btn" onclick="selectTool(3)">Highlighter</button>
                        <button id="btn-4" class="tool-btn" onclick="selectTool(4)">Eraser</button>
                    </div>
                    <div class="divider"></div>
                    <div id="controls-context">
                        <div id="color-palette"></div>
                        <div id="eraser-modes" class="hidden">
                            <button class="mode-btn active" id="mode-pixel" onclick="setEraserMode('pixel')">Pixel</button>
                            <button class="mode-btn" id="mode-stroke" onclick="setEraserMode('stroke')">Stroke</button>
                        </div>
                        <div class="weight-control">
                            <input type="range" id="weightSlider" min="1" max="100" value="3">
                            <span id="weightLabel">3px</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <button class="hist-btn" onclick="undo()">⟲</button>
                    <button class="hist-btn" onclick="redo()">⟳</button>
                    <button class="shrink-btn" onclick="toggleMenu()">Collapse</button>
                </div>
            </nav>
        </div>
        <div id="document-container"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
